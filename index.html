<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Canvas with Functions</title>
</head>
<body>
    <h1>Canvas with functions</h1>
    <canvas width="800" height="800" id="myCanvas">
    </canvas>
    <script>
const canvas = document.getElementById("myCanvas");
canvas.width = 5000;
canvas.height = 5000;
const ctx = canvas.getContext("2d");

// --- Drawing Helpers ---
function fillRect(x, y, w, h, color) { ctx.fillStyle = color; ctx.fillRect(x, y, w, h); }
function fillCircle(x, y, r, color) {
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(x, y, r, 0, 2 * Math.PI);
    ctx.fill();
}

/**
 * Draws a Universe as a High-Def Solar System
 * @param {number} x, y - Top-left of the 100x100 window
 * @param {number} hue - Color theme
 */
function drawDetailedSolarSystem(x, y, hue) {
    const cx = x + 50; // Center X
    const cy = y + 50; // Center Y

    // 1. Deep Space Nebula Background
    const spaceGrad = ctx.createRadialGradient(cx, cy, 5, cx, cy, 50);
    spaceGrad.addColorStop(0, `hsla(${hue}, 60%, 15%, 1)`);
    spaceGrad.addColorStop(1, "#000");
    fillRect(x, y, 100, 100, spaceGrad);

    // 2. The Central Sun (Glowing)
    const sunGlow = ctx.createRadialGradient(cx, cy, 2, cx, cy, 12);
    sunGlow.addColorStop(0, `hsl(${hue}, 100%, 85%)`);
    sunGlow.addColorStop(1, `hsla(${hue}, 100%, 50%, 0)`);
    fillCircle(cx, cy, 12, sunGlow);
    fillCircle(cx, cy, 6, "white");

    // 3. Planets with Snowmen inhabitants
    const planetCount = 3 + (hue % 3); 
    for (let i = 1; i <= planetCount; i++) {
        // Calculate Orbit
        const orbitDist = 15 + (i * 10);
        const angle = (hue * i + (i * 45)) % (Math.PI * 2); 
        const px = cx + Math.cos(angle) * orbitDist;
        const py = cy + Math.sin(angle) * orbitDist;

        // Draw Planet
        const pColor = `hsl(${(hue + i * 40) % 360}, 40%, 50%)`;
        fillCircle(px, py, 4, pColor);

        // Draw Snowman on Planet (Head and Body)
        fillCircle(px, py - 4, 2.5, "white"); // Body
        fillCircle(px, py - 7, 1.5, "white"); // Head
    }

    // 4. Random Starfield Dust
    ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
    for(let s=0; s<10; s++) {
        ctx.fillRect(x + (hue*s*17)%95, y + (hue*s*13)%95, 1, 1);
    }
}

// 1. Clear the canvas with the void
fillRect(0, 0, 5000, 5000, "black");

// 2. The 50x50 Grid Loop (2,500 total Universes)
for (let row = 0; row < 50; row++) {
    for (let col = 0; col < 50; col++) {
        const xPos = col * 100;
        const yPos = row * 100;
        const universeHue = (row * 7 + col * 11) % 360;
        
        drawDetailedSolarSystem(xPos, yPos, universeHue);
    }
}

    </script>
</body>