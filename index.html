<!DOCTYPE html>
<html lang="en">
<head>
    <title>Snowman Multiverse</title>
    <style>body { margin: 0; background: #000; overflow: hidden; }</style>
</head>
<body>
    <canvas id="myCanvas"></canvas>
    <script>
const canvas = document.getElementById("myCanvas");
const ctx = canvas.getContext("2d");

const setup = () => {
    canvas.width = 3000;
    canvas.height = 3000;
    canvas.style.width = "100vw";
    canvas.style.height = "100vh";
};
setup();

const CX = canvas.width / 2;
const CY = canvas.height / 2;

/**
 * Draws a high-detail snowman
 * @param {number} x, y - Position
 * @param {number} scale - Size multiplier
 * @param {string} scarfColor - Custom scarf color
 */
function drawSnowman(x, y, scale, scarfColor = "#d32f2f") {
    ctx.save();
    ctx.translate(x, y);
    
    // Snow Body
    ctx.fillStyle = "#ffffff";
    ctx.shadowBlur = 15 * scale;
    ctx.shadowColor = "rgba(255, 255, 255, 0.8)";
    [ {r: 20, y: 0}, {r: 14, y: -25}, {r: 10, y: -45} ].forEach(b => {
        ctx.beginPath();
        ctx.arc(0, b.y * scale, b.r * scale, 0, Math.PI * 2);
        ctx.fill();
    });

    // Face Detail
    ctx.shadowBlur = 0;
    ctx.fillStyle = "#ff9800"; // Carrot
    ctx.beginPath();
    ctx.moveTo(0, -45 * scale);
    ctx.lineTo(12 * scale, -43 * scale);
    ctx.lineTo(0, -41 * scale);
    ctx.fill();

    // Eyes
    ctx.fillStyle = "#1a1a1a";
    ctx.beginPath();
    ctx.arc(-3 * scale, -48 * scale, 1.5 * scale, 0, Math.PI * 2);
    ctx.arc(3 * scale, -48 * scale, 1.5 * scale, 0, Math.PI * 2);
    ctx.fill();

    // Scarf
    ctx.fillStyle = scarfColor;
    ctx.fillRect(-11 * scale, -35 * scale, 22 * scale, 5 * scale);
    ctx.fillRect(4 * scale, -35 * scale, 4 * scale, 15 * scale);
    
    // Top Hat
    ctx.fillStyle = "#1a1a1a";
    ctx.fillRect(-14 * scale, -55 * scale, 28 * scale, 3 * scale);
    ctx.fillRect(-8 * scale, -70 * scale, 16 * scale, 15 * scale);

    ctx.restore();
}

function drawUniverse() {
    const time = Date.now() * 0.0002;

    // 1. Space Background
    const bg = ctx.createRadialGradient(CX, CY, 100, CX, CY, 1500);
    bg.addColorStop(0, "#050a15");
    bg.addColorStop(1, "#000000");
    ctx.fillStyle = bg;
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // 2. The Sun (The Great White Dwarf)
    const sunGlow = ctx.createRadialGradient(CX, CY, 0, CX, CY, 300);
    sunGlow.addColorStop(0, "#ffffff");
    sunGlow.addColorStop(0.3, "#b3e5fc");
    sunGlow.addColorStop(1, "transparent");
    ctx.fillStyle = sunGlow;
    ctx.beginPath(); ctx.arc(CX, CY, 300, 0, Math.PI * 2); ctx.fill();
    drawSnowman(CX, CY + 50, 2.5, "#ffcc00"); // The Sun King Snowman

    // 3. Planet Definitions (Mercury to Neptune)
    const planets = [
        { name: "Mercury", dist: 400, size: 15, color: "#90a4ae", speed: 4.7 },
        { name: "Venus", dist: 520, size: 28, color: "#fff9c4", speed: 3.5 },
        { name: "Earth", dist: 680, size: 32, color: "#81d4fa", speed: 2.9, hasLife: true },
        { name: "Mars", dist: 820, size: 22, color: "#ff8a65", speed: 2.4 },
        // Asteroid Belt is handled separately
        { name: "Jupiter", dist: 1100, size: 85, color: "#ce93d8", speed: 1.3 },
        { name: "Saturn", dist: 1350, size: 70, color: "#ffe082", speed: 0.9, hasRings: true },
        { name: "Uranus", dist: 1550, size: 45, color: "#b2ebf2", speed: 0.6 },
        { name: "Neptune", dist: 1750, size: 45, color: "#5c6bc0", speed: 0.5 }
    ];

    // 4. Draw Asteroid Belt (Floating Ice)
    for (let i = 0; i < 200; i++) {
        let angle = time * 0.5 + (i * 0.2);
        let d = 920 + (Math.sin(i) * 30);
        let ax = CX + Math.cos(angle) * d;
        let ay = CY + Math.sin(angle) * d;
        ctx.fillStyle = "rgba(255, 255, 255, 0.4)";
        ctx.fillRect(ax, ay, 3, 3);
    }

    planets.forEach((p, i) => {
        const angle = time * p.speed + (i * 50);
        const px = CX + Math.cos(angle) * p.dist;
        const py = CY + Math.sin(angle) * p.dist;

        // Orbit Path
        ctx.strokeStyle = "rgba(255,255,255,0.08)";
        ctx.beginPath(); ctx.arc(CX, CY, p.dist, 0, Math.PI * 2); ctx.stroke();

        // Rings for Saturn
        if (p.hasRings) {
            ctx.strokeStyle = "rgba(255, 255, 255, 0.3)";
            ctx.lineWidth = 10;
            ctx.beginPath();
            ctx.ellipse(px, py, p.size * 2.2, p.size * 0.8, angle, 0, Math.PI * 2);
            ctx.stroke();
            ctx.lineWidth = 1;
        }

        // Planet Body
        const grad = ctx.createRadialGradient(px - p.size/2, py - p.size/2, 0, px, py, p.size);
        grad.addColorStop(0, p.color);
        grad.addColorStop(1, "#050510");
        ctx.fillStyle = grad;
        ctx.beginPath(); ctx.arc(px, py, p.size, 0, Math.PI * 2); ctx.fill();

        // Snowmen on Planets
        const snowmanScale = p.size / 100;
        drawSnowman(px, py - p.size, snowmanScale, p.hasLife ? "#4caf50" : "#d32f2f");
        
        // Add a Moon for Earth/Mars/etc
        if(p.dist > 600) {
            const mAngle = time * 10;
            const mx = px + Math.cos(mAngle) * (p.size + 20);
            const my = py + Math.sin(mAngle) * (p.size + 20);
            ctx.fillStyle = "#fff";
            ctx.beginPath(); ctx.arc(mx, my, 4, 0, Math.PI * 2); ctx.fill();
            drawSnowman(mx, my - 4, 0.05);
        }
    });

    requestAnimationFrame(drawUniverse);
}

drawUniverse();

    </script>
</body>
</html>
